!function(){var t,e,n,a,r=function(t,e){if(0==t.indexOf("{host}")&&(t=location.protocol+"//"+location.host+location.pathname.replace(/[^\/]*$/,"")+dpth+t.substring(6)),window.XDomainRequest){var n=new XDomainRequest;n.open("GET",t),n.onload=function(){e(this.responseText)},n.send()}else if(window.XMLHttpRequest){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(this.responseText)},a.open("GET",t,!0),a.send(null)}},i=function(t,e){return function(){var n=parseInt(e[1]),a=parseInt(e[2]),r=parseFloat(e[3]),i=parseFloat(e[4]),l=window.getComputedStyle(t),o=window.getComputedStyle(t.parentElement),s=parseInt(o.width)-(l.borderLeft.length?parseInt(l.borderLeft):0)-(l.borderRight.length?parseInt(l.borderRight):0),u=parseInt(o.height)-(l.borderTop.length?parseInt(l.borderTop):0)-(l.borderBottom.length?parseInt(l.borderBottom):0);if(n&&0==a)t.style.height=u+"px",t.style.width=s+"px",t.style.backgroundPosition=Math.round(100*r)+"% "+Math.round(100*i)+"%",t.style.backgroundSize="cover";else{var d=this.naturalWidth,g=this.naturalHeight;d>s?(n&&(g*=s/d),d=s):n&&d<s&&(g*=s/d,d=s,g>u&&(d*=u/g,g=u)),g>u?(n&&(d*=u/g),g=u):n&&g<u&&(d*=u/g,g=u,d>s&&(g*=s/d,d=s)),t.style.height=g+"px",t.style.width=d+"px",t.style.top=(u-g)*i+"px",t.style.left=(s-d)*r+"px",n?t.style.backgroundSize="contain":(t.style.backgroundPosition=Math.round(100*r)+"% "+Math.round(100*i)+"%",t.style.backgroundSize="auto")}}},l=function(){var t=document.createElement("script");t.async=!0,t.src="//www.instagram.com/embed.js",document.getElementsByTagName("head")[0].appendChild(t)};null!=document.getElementsByClassName?(e=document.getElementsByClassName("ig-post"),n=document.getElementsByClassName("ig-img"),a=document.getElementsByClassName("ig-gal")):(e=document.querySelectorAll(".ig-post"),n=document.querySelectorAll(".ig-img"),a=document.querySelectorAll(".ig-gal")),e.length||n.length||a.length?r("{host}api/instagram.php?api=recent&",function(o){void 0!==(t=JSON.parse(o,!0))&&"data"in t&&(e.length?function(t){for(var n=0,a=[],i=e.length-1;i>=0;i--){var o=e[i];(u=parseInt(o.getAttribute("data-ig")))<t.length&&a.push(o)}for(i=a.length-1;i>=0;i--){var s=(o=a[i]).getAttribute("data-ig-hc"),u=parseInt(o.getAttribute("data-ig"));r("{host}api/instagram.php?api=oembed&url="+t[u].permalink+(null!=s?"&hidecaption=true":""),function(t){return function(e){var r=JSON.parse(e,!0);void 0!==r&&"html"in r&&(t.innerHTML=r.html),++n==a.length&&l()}}(o))}}(t.data):l(),function(t){for(var e=n.length-1;e>=0;e--){var a=n[e],r=a.getAttribute("data-ig").split(" "),l=parseInt(r[0]);if(l<t.length){var o=t[l].thumbnail_url;null==o&&(o=t[l].media_url);var s=parseInt(r[1]),u=parseInt(r[2]);if(s&&0==u)i(a,r)();else{var d=new Image;d.onload=i(a,r),d.src=o}if(a.hasAttribute("ig-link")){var g=document.createElement("A");g.setAttribute("target","_blank"),g.setAttribute("href",t[l].permalink),a.parentElement.appendChild(g),g.appendChild(a)}a.style.display="block",a.style.backgroundImage="url("+o+")",a.setAttribute("alt",t[l].caption)}}}(t.data),function(t){for(var e=a.length-1;e>=0;e--){var n=a[e],r=parseInt(n.getAttribute("data-ig"));if(r<t.length){if(n.hasAttribute("ig-link")){var i=document.createElement("A");i.setAttribute("target","_blank"),i.setAttribute("href",t[r].permalink),n.parentElement.appendChild(i),i.appendChild(n)}var l=t[r].thumbnail_url;null==l&&(l=t[r].media_url),n.style.backgroundImage="url("+l+")",n.setAttribute("alt",t[r].caption)}}}(t.data))}):l()}();
